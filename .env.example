# OmniQuant Production Environment Configuration
# Copy to .env and fill in your values

# ============================================================================
# Environment
# ============================================================================
ENVIRONMENT=production  # development, staging, production
DEBUG=false
APP_NAME=OmniQuant
APP_VERSION=2.0.0

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=omniquant_prod
DB_USER=omniquant_user
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_123!@#
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_456!@#
REDIS_DB=0
REDIS_MAX_CONNECTIONS=100

# ============================================================================
# Broker API Credentials
# ============================================================================
# Alpaca (Paper Trading: https://paper-api.alpaca.markets)
# Alpaca (Live Trading: https://api.alpaca.markets)
ALPACA_API_KEY=YOUR_ALPACA_API_KEY_HERE
ALPACA_SECRET_KEY=YOUR_ALPACA_SECRET_KEY_HERE
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Interactive Brokers
IB_HOST=127.0.0.1
IB_PORT=7497  # TWS: 7497 (paper), 7496 (live) | IB Gateway: 4002 (paper), 4001 (live)
IB_CLIENT_ID=1

# Polygon.io
POLYGON_API_KEY=YOUR_POLYGON_API_KEY_HERE

# ============================================================================
# Security Configuration (CRITICAL!)
# ============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=GENERATE_A_SECURE_256_BIT_KEY_HERE_DO_NOT_USE_THIS_DEFAULT
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Rate Limiting
RATE_LIMIT_PER_MINUTE=1000
RATE_LIMIT_BURST=50

# CORS (comma-separated list)
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# ============================================================================
# Trading Configuration
# ============================================================================
# Position Limits
MAX_POSITION_SIZE=500000.0
MAX_LEVERAGE=2.0
POSITION_CONCENTRATION_LIMIT=0.25

# Risk Limits
MAX_DRAWDOWN_PCT=0.15
DAILY_LOSS_LIMIT=10000.0

# Execution
COMMISSION_RATE=0.0002  # 2 basis points
SLIPPAGE_BPS=1.0        # 1 basis point
RISK_FREE_RATE=0.02     # 2% annual

# Order Management
ORDER_TIMEOUT_SECONDS=30
MAX_RETRY_ATTEMPTS=3

# ============================================================================
# Monitoring & Alerting
# ============================================================================
# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=/var/log/omniquant/app.log

# Prometheus Metrics
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# Alert Channels
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_EMAIL=alerts@yourcompany.com
PAGERDUTY_API_KEY=YOUR_PAGERDUTY_KEY

# Health Checks
HEALTH_CHECK_INTERVAL=60

# ============================================================================
# API Server Configuration
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=60
API_MAX_CONNECTIONS=1000

# WebSocket
WS_PING_INTERVAL=20
WS_PING_TIMEOUT=20

# ============================================================================
# Feature Flags (Optional)
# ============================================================================
ENABLE_LIVE_TRADING=false
ENABLE_PAPER_TRADING=true
ENABLE_BACKTESTING=true
ENABLE_RESEARCH_MODE=true

# ============================================================================
# AWS Configuration (Optional)
# ============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
S3_BUCKET_NAME=omniquant-backups

# ============================================================================
# External Services (Optional)
# ============================================================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
DATADOG_API_KEY=YOUR_DATADOG_API_KEY

# ============================================================================
# Development Overrides (Only for ENVIRONMENT=development)
# ============================================================================
# These are ignored in production
DEV_AUTO_RELOAD=true
DEV_DEBUG_SQL=false
DEV_MOCK_BROKER=true
